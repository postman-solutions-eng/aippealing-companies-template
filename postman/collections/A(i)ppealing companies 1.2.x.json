{
	"info": {
		"_postman_id": "d28ae0b1-f455-4d5e-a43a-5fe7a5ae080c",
		"name": "A(i)ppealing companies 1.2.x",
		"description": "\nAPI to create appealing images of company products made of chocolate, gold or lego - generated by AI\n\n## Motivation\n\nThere are some amazing, visually appealing company products made of chocolate or lego\n\n<img src=\"https://user-images.githubusercontent.com/1872314/208320977-06e18d27-4938-4be3-ab9d-8b2ffc2c85e1.png\" alt=\"Lexus%20made%20of%20chocolate\" width=\"197\">\n\n<img src=\"https://user-images.githubusercontent.com/1872314/208321054-130afbaa-f7db-453e-8db1-114ebce97f4e.png\" alt=\"Flowers%20made%20of%20Lego\" width=\"239\">\n\nInspired by the image and text generation capabilities of [OpenAI](https://www.postman.com/devrel/workspace/openai/documentation/13183464-90abb798-cb85-43cb-ba3a-ae7941e968da), this API generates images of the products, companies are most known for, and turns them into gold, chocolate, lego or any other material.\n\n#### Volkswagen / Porsche\n\n<img src=\"https://user-images.githubusercontent.com/1872314/208321137-0ab3cdb9-a2d2-47ad-9f9e-172188a848d5.png\" alt=\"Porsche%20911%20made%20of%20Lego\" width=\"200\">\n\n<img src=\"https://user-images.githubusercontent.com/1872314/208321209-9a82e2b5-47aa-4d9d-a267-1659e2964b0b.png\" alt=\"VW%20caravan%20made%20of%20Lego\" width=\"200\">\n\n#### Allianz\n\n<img src=\"https://user-images.githubusercontent.com/1872314/208321233-117ba82b-1c3b-4bab-860a-3fc94b9df407.png\" alt=\"Allianz%20Arena%20made%20of%20chocolate\" width=\"200\">\n\n<img src=\"https://user-images.githubusercontent.com/1872314/208321469-9a3d2c0a-ced0-4568-b61e-45f5e46f4524.png\" alt=\"Allianz%20Arena%20made%20of%20Lego\" width=\"200\">\n\n### Mercedes-Benz\n\n<img src=\"https://user-images.githubusercontent.com/1872314/208321375-19d9198a-858d-4fc9-b95c-6a31fe58096a.png\" alt=\"C-class%20made%20of%20gold\" width=\"200\">\n\n<img src=\"https://user-images.githubusercontent.com/1872314/208321413-806d2afc-d3fb-4660-9299-7ca86be90e2f.png\" alt=\"C-class%20made%20of%20gold%20(second%20run)\" width=\"200\">",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_uid": "24483733-d28ae0b1-f455-4d5e-a43a-5fe7a5ae080c"
	},
	"item": [
		{
			"name": "companies",
			"item": [
				{
					"name": "List all companies",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c8c6d1b3-449b-4b98-be88-866215683183",
								"exec": [
									"const companies = pm.response.json();",
									"",
									"// iterate over the companies and generate an html table similar to the markdown table",
									"var html = `<table id=\"companies\" class=\"display\" style=\"width:100%\">",
									"<thead>",
									"<tr>",
									"<th>Company</th>",
									"<th>City</th>",
									"<th>Motto</th>",
									"<th>Products</th>",
									"</tr>",
									"</thead>",
									"<tbody>`;",
									"companies.forEach(company => {",
									"    html += `<tr>",
									"    <td>${company.name}</td>",
									"    <td>${company.city}</td>",
									"    <td>${company.motto}</td>",
									"    <td>`;",
									"    company.associations.forEach(product => {",
									"        html += `<figure>",
									"        <img src=\"${product.url}\" alt=\"${product.name}\" width=\"100\">",
									"        <figcaption>${product.name} made of ${product.material}</figcaption>",
									"        </figure>`;",
									"    });",
									"    html += `</td>",
									"    </tr>`;",
									"});",
									"html += `</tbody>",
									"</table>`;",
									"",
									"// set the visualizer to the html",
									"pm.visualizer.set(html, { });"
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "2a41ccef-8f3b-4a04-b084-4b7a75f74caa",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/companies",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"companies"
							]
						},
						"description": "List all companies and their a(i)ppealing associations"
					},
					"response": [
						{
							"id": "f6485ba2-b6ba-4cc2-9840-ef54a2d5e287",
							"name": "OK",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"description": "Added as a part of security scheme: apikey",
										"key": "X-Api-Key",
										"value": "<API Key>"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/companies",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"companies"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "[\n  {\n    \"id\": \"yousendmeflowers\",\n    \"name\": \"Fleurop / yousendmeflowers / main\",\n    \"city\": \"{{$randomCity}}\",\n    \"motto\": \"{{$randomCatchPhrase}}\",\n    \"description\": \"Fleurop is a flower delivery service with a network of florists in 140 countries. YouSendMeFlowers is a similar service in the US. Main is a flower delivery service in the Netherlands.\",\n    \"associations\": [\n      {\n        \"name\": \"Flowers\",\n        \"type\": \"product\",\n        \"material\": \"lego\",\n        \"url\": \"https://user-images.githubusercontent.com/1872314/208254526-fe40f349-5456-4549-b72d-e49fe341f8e7.png\"\n      }\n    ]\n  },\n  {\n    \"id\": \"volkswagen\",\n    \"name\": \"Volkswagen\",\n    \"description\": \"Volkswagen AG is a German multinational automotive manufacturing company headquartered in Wolfsburg, Lower Saxony, Germany.\",\n    \"city\": \"Wolfsburg\",\n    \"motto\": \"Das Auto\",\n    \"associations\": [\n      {\n        \"name\": \"VW Caravan\",\n        \"type\": \"product\",\n        \"material\": \"lego\",\n        \"url\": \"https://user-images.githubusercontent.com/1872314/208270572-17d0d771-17d5-4e95-ab1c-6ebc86432bb9.png\"\n      },\n      {\n        \"name\": \"Porsche 911\",\n        \"type\": \"product\",\n        \"material\": \"lego\",\n        \"url\": \"https://user-images.githubusercontent.com/1872314/208270526-6b8dd152-674e-4496-835f-671882e70d1b.png\"\n      }\n    ]\n  },\n  {\n    \"id\": \"lexus\",\n    \"name\": \"Lexus\",\n    \"city\": \"Toyota\",\n    \"motto\": \"The Pursuit of Perfection\",\n    \"description\": \"Lexus is the luxury vehicle division of the Japanese automaker Toyota. The Lexus brand is marketed in more than 70 countries and territories worldwide and has become Japan's largest-selling make of premium cars.\",\n    \"associations\": [\n      {\n        \"name\": \"Lexus UX\",\n        \"type\": \"product\",\n        \"material\": \"chocolate\",\n        \"url\": \"https://user-images.githubusercontent.com/1872314/208254307-d1971475-31aa-4c10-ac8d-7b907579438d.png\"\n      }\n    ]\n  },\n  {\n    \"id\": \"allianz\",\n    \"name\": \"Allianz\",\n    \"city\": \"Munich\",\n    \"motto\": \"Together. Stronger.\",\n    \"description\": \"Allianz SE is a German multinational financial services company headquartered in Munich, Bavaria. It is the largest insurance company in the world by revenue.\",\n    \"associations\": [\n      {\n        \"name\": \"Allianz Arena\",\n        \"type\": \"product\",\n        \"material\": \"chocolate\",\n        \"url\": \"https://user-images.githubusercontent.com/1872314/208270631-87b3c79c-c6e8-47dd-9cf2-52451989b83b.png\"\n      }\n    ]\n  }\n]"
						},
						{
							"id": "3970edb1-e6e5-44d5-8d58-e3a99b07d600",
							"name": "Bad Request",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"description": "Added as a part of security scheme: apikey",
										"key": "X-Api-Key",
										"value": "<API Key>"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/companies",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"companies"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"dolore sit sunt\"\n}"
						},
						{
							"id": "eacce40e-e7c5-4c0f-806f-4b3c9f9acab2",
							"name": "Unauthorized",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"description": "Added as a part of security scheme: apikey",
										"key": "X-Api-Key",
										"value": "<API Key>"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/companies",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"companies"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Unauthorized\"\n}"
						},
						{
							"id": "b0621726-17a3-40b3-8ab5-492966eb8702",
							"name": "Internal Server Error",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"description": "Added as a part of security scheme: apikey",
										"key": "X-Api-Key",
										"value": "<API Key>"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/companies",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"companies"
									]
								}
							},
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Internal Server Error\"\n}"
						}
					]
				},
				{
					"name": "Get company",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "843338dd-458b-48bc-8558-9baed5d37380",
								"exec": [
									"pm.test(\"Checking whether direct search reveals expected result\", function () {",
									"    // status code is either 200 or 404",
									"    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
									"    // if status code is 200, we need to extract the answer and set collection variables",
									"    if (pm.response.code === 200) {",
									"        const companyRecord = pm.response.json();",
									"  ",
									"        pm.expect(companyRecord.associations.length).to.be.above(0);",
									"        pm.expect(companyRecord.associations).to.be.an('array');",
									"        pm.collectionVariables.set(\"companyRecord\", JSON.stringify(companyRecord));",
									"",
									"        // visualize",
									"        const urls = companyRecord.associations.map(i => i.url)",
									"",
									"        const template = `",
									"        <style>",
									"        div {",
									"            display: flex;",
									"            gap: 1rem;",
									"        }",
									"        </style>",
									"",
									"        <div>",
									"        {{#each urls}} ",
									"            <img src=\"{{this}}\">",
									"        {{/each}}",
									"        </div>",
									"        `",
									"        pm.visualizer.set(template, { urls })",
									"",
									"    }",
									"  });",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "f5a37be5-4d6c-422c-88d8-bbaaf2c1e898",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/companies/:companyId?material=lego",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"companies",
								":companyId"
							],
							"query": [
								{
									"key": "material",
									"value": "lego",
									"description": "Material to use for the product"
								},
								{
									"key": "mode",
									"value": "fuzzy",
									"description": "Mode to use for the product, exact and fuzzy operate on the curated list of products, ai uses AI to generate all aspects of the product",
									"disabled": true
								}
							],
							"variable": [
								{
									"key": "companyId",
									"value": "lexus",
									"description": "(Required) Company ID"
								}
							]
						},
						"description": "Get company and its a(i)ppealing associations"
					},
					"response": [
						{
							"id": "7fc748da-c5a1-430a-96e7-00fecb31d41f",
							"name": "OK",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"description": "Added as a part of security scheme: apikey",
										"key": "X-Api-Key",
										"value": "<API Key>"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/companies/:companyId?material=lego&mode=fuzzy",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"companies",
										":companyId"
									],
									"query": [
										{
											"key": "material",
											"value": "lego"
										},
										{
											"key": "mode",
											"value": "fuzzy"
										}
									],
									"variable": [
										{
											"key": "companyId",
											"value": "lexus",
											"description": "(Required) Company ID"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": \"lexus\",\n    \"name\": \"Lexus\",\n    \"description\": \"Lexus is the luxury vehicle division of the Japanese automaker Toyota. The Lexus brand is marketed in more than 70 countries and territories worldwide and has become Japan's largest-selling make of premium cars.\",\n    \"city\": \"Toyota City\",\n    \"motto\": \"The Pursuit of Perfection\",\n    \"associations\": [\n      {\n        \"name\": \"Lexus UX\",\n        \"material\": \"lego\",\n        \"type\": \"product\",\n        \"url\": \"https://user-images.githubusercontent.com/1872314/208254307-d1971475-31aa-4c10-ac8d-7b907579438d.png\"\n      }\n    ]\n}"
						},
						{
							"id": "1fba41e2-cdc5-44f0-97bc-baa68cf22fd2",
							"name": "Unauthorized",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"description": "Added as a part of security scheme: apikey",
										"key": "X-Api-Key",
										"value": "<API Key>"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/companies/:companyId?material=plush&mode=fuzzy",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"companies",
										":companyId"
									],
									"query": [
										{
											"key": "material",
											"value": "plush"
										},
										{
											"key": "mode",
											"value": "fuzzy"
										}
									],
									"variable": [
										{
											"key": "companyId",
											"value": "daimler",
											"description": "(Required) Company ID"
										}
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Unauthorized\"\n}"
						},
						{
							"id": "cefa9234-9d90-4e68-8a01-4c9315073913",
							"name": "Not Found",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"description": "Added as a part of security scheme: apikey",
										"key": "X-Api-Key",
										"value": "<API Key>"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/companies/:companyId?material=lego&mode=fuzzy",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"companies",
										":companyId"
									],
									"query": [
										{
											"key": "material",
											"value": "lego"
										},
										{
											"key": "mode",
											"value": "fuzzy"
										}
									],
									"variable": [
										{
											"key": "companyId",
											"value": "lexus",
											"description": "(Required) Company ID"
										}
									]
								}
							},
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Not Found\"\n}"
						},
						{
							"id": "67a6fa3b-17ef-43ab-9025-d50b214000af",
							"name": "Internal Server Error",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"description": "Added as a part of security scheme: apikey",
										"key": "X-Api-Key",
										"value": "<API Key>"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/companies/:companyId?material=lego&mode=fuzzy",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"companies",
										":companyId"
									],
									"query": [
										{
											"key": "material",
											"value": "lego"
										},
										{
											"key": "mode",
											"value": "fuzzy"
										}
									],
									"variable": [
										{
											"key": "companyId",
											"value": "lexus",
											"description": "(Required) Company ID"
										}
									]
								}
							},
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Internal Server Error\"\n}"
						}
					]
				}
			],
			"id": "3ff8d7eb-525f-4f18-bd2a-27a7233ce8e1"
		}
	],
	"auth": {
		"type": "apikey",
		"apikey": [
			{
				"key": "value",
				"value": "{{OpenAIToken}}",
				"type": "string"
			},
			{
				"key": "key",
				"value": "X-Api-Key",
				"type": "string"
			},
			{
				"key": "in",
				"value": "header",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "67828bdb-7210-4a46-9aee-e4283cd0af51",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "f27b0fdb-0988-47b0-9c4c-aff7f7d44c9e",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "e4c4c17c-5a6b-4cb5-bc86-d55fa4b19ebc",
			"key": "baseUrl",
			"value": "https://aippealing-companies.herokuapp.com",
			"type": "string"
		}
	]
}